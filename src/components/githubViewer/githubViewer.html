<div class="header">
	<div class="container">
		<div class="block-header">
			<div class="row clearfix">
				<div class="col-sm-12 col-md-5 col-lg-7">
					<h3 class="header-title">GithubViewer</h3>
				</div>
				<div class="col-sm-12 col-md-7 col-lg-5">
					<form name="repositorySearch" ng-submit="repositorySearch.$valid && $ctrl.submit()">
						<div class="input-group pull-right search">
							<input 
								type="text" 
								class="form-control search-bar" 
								placeholder="search"
								ng-model="$ctrl.searchTerm"
								required>
							<span class="input-group-btn">
								<button class="btn btn-default search-btn" type="submit">Go!</button>
							</span>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="container display-cards" ng-if="$ctrl.repository">
	<div class="card text-center">
		<div class="card-header">
			<h2>{{$ctrl.repository.name}}</h2>
		</div>
		<div class="card-body">
			<h5 class="card-title">
				<img ng-src={{$ctrl.repository.avatar}} height="200" width="200">
			</h5>
			<p class="card-text">{{$ctrl.repository.description}}</p>
			<a ng-href={{$ctrl.repository.url}} class="btn btn-primary">Go to repository</a>
		</div>
		<div class="card-footer text-muted">
			<button type="button" class="btn btn-info">Forks
				<span class="badge badge-light">{{$ctrl.repository.forksCount}}</span>
				<span class="sr-only">unread messages</span>
			</button>
			<button type="button" class="btn btn-info">Open Issues
					<span class="badge badge-light">{{$ctrl.repository.openIssuesCount}}</span>
					<span class="sr-only">unread messages</span>
			</button>
			<button type="button" class="btn btn-info">Stargazers
					<span class="badge badge-light">{{$ctrl.repository.stargazersCount}}</span>
					<span class="sr-only">unread messages</span>
			</button>
		</div>
	</div>
</div>
<div class="container issue-navigation" ng-if="$ctrl.allIssues">
	<table class="table">
		<thead>
			<tr>
			<th scope="col">Reported by</th>
			<th scope="col">Title</th>
			<th scope="col">Status</th>
			<th scope="col">Created Date</th>
			</tr>
		</thead>
		<tbody ng-repeat="issue in $ctrl.allIssues track by $index">
			<tr>
			<td>
				<img 
					alt="{{issue.user.login}}" 
					ng-src={{issue.user.avatar_url}} 
					height="40" 
					width="40"
					title="{{issue.user.login}}">
			</td>
			<td>
				<p><a ng-href="{{issue.html_url}}">{{issue.title}}</a></p>
			</td>
			<td>
				<span class="badge badge-success" ng-if="issue.state == 'closed'">{{issue.state | uppercase}}</span>
				<span class="badge badge-warning" ng-if="issue.state == 'open'">{{issue.state | uppercase}}</span></td>
			<td>{{issue.created_at | date}}</td>
			</tr>
		</tbody>
	</table>
	<nav aria-label="Page navigation example">
		<ul class="pagination justify-content-center">
			<li class="page-item disabled">
				<a class="page-link" href="#" tabindex="-1">Previous</a>
			</li>
			<li class="page-item"><a class="page-link" href="#">1</a></li>
			<li class="page-item"><a class="page-link" href="#">2</a></li>
			<li class="page-item"><a class="page-link" href="#">3</a></li>
			<li class="page-item">
			<a class="page-link" href="#" ng-click="$ctrl.setIssues()">Next</a>
			</li>
		</ul>
	</nav>
</div>